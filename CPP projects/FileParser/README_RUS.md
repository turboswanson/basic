# –ê–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä –ß–∞—Å—Ç–æ—Ç—ã –°–ª–æ–≤ (Android-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ Qt)

**–ê–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä –ß–∞—Å—Ç–æ—Ç—ã –°–ª–æ–≤** ‚Äî —ç—Ç–æ Android-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, —Å–æ–∑–¥–∞–Ω–Ω–æ–µ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º **Qt 6.8.1/QML and C++**, –∫–æ—Ç–æ—Ä–æ–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º —á–∏—Ç–∞—Ç—å, –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏ –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å **15** –Ω–∞–∏–±–æ–ª–µ–µ —á–∞—Å—Ç–æ –≤—Å—Ç—Ä–µ—á–∞—é—â–∏—Ö—Å—è —Å–ª–æ–≤ –∏–∑ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤, –æ—Å–Ω–æ–≤–∞–Ω–Ω—ã—Ö –Ω–∞ —Å—Ç—Ä–æ–∫–∞—Ö. –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ –≤–∏–¥–µ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π **–≥–∏—Å—Ç–æ–≥—Ä–∞–º–º—ã**, –∞ —Ç–∞–∫–∂–µ –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç—Å—è –æ—Ç–∑—ã–≤—á–∏–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å –ø–ª–∞–≤–Ω—ã–º –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ–º –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏.

---

## üìÇ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã —Ñ–∞–π–ª–æ–≤
–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å —Ç–µ–∫—Å—Ç–æ–≤—ã–º–∏ —Ñ–∞–π–ª–∞–º–∏ –≤ –∫–æ–¥–∏—Ä–æ–≤–∫–µ **UTF-8**, –æ—Å–Ω–æ–≤–∞–Ω–Ω—ã–º–∏ –Ω–∞ —Å—Ç—Ä–æ–∫–∞—Ö, –≤–∫–ª—é—á–∞—è:

- `.txt`, `.log`, `.csv`, `.tsv`
- `.md`, `.ini`, `.conf`
- `.json`, `.xml`, `.yaml`, `.yml`
- –¥—Ä—É–≥–∏–µ –ø–æ–¥–æ–±–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã –ø—Ä–æ—Å—Ç–æ–≥–æ —Ç–µ–∫—Å—Ç–∞

> ‚úÖ –£—Å–ø–µ—à–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ —Å —Ñ–∞–π–ª–∞–º–∏ –¥–æ 20 000 —Å—Ç—Ä–æ–∫.

---

## üéØ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- –í—ã–±–æ—Ä —Ñ–∞–π–ª–∞ —á–µ—Ä–µ–∑ –ø—Ä–æ–≤–æ–¥–Ω–∏–∫ Android
- –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∏ –ø–æ–¥—Å—á–µ—Ç —Å–ª–æ–≤ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Ä–µ–≥—É–ª—è—Ä–Ω—ã—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã—Ö —Å–ª—É–∂–µ–±–Ω—ã—Ö —Å–ª–æ–≤
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ **15** –Ω–∞–∏–±–æ–ª–µ–µ —á–∞—Å—Ç–æ –≤—Å—Ç—Ä–µ—á–∞—é—â–∏—Ö—Å—è —Å–ª–æ–≤ –≤ –≤–∏–¥–µ –≥–∏—Å—Ç–æ–≥—Ä–∞–º–º—ã
- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–º–µ–Ω—ã –∞–Ω–∞–ª–∏–∑–∞ –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç
- –ß–∏—Å—Ç—ã–π –∏ –æ—Ç–∑—ã–≤—á–∏–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å —á–µ—Ç–∫–∏–º–∏ —Å—Ç–∞—Ç—É—Å–∞–º–∏

## üñ•Ô∏è –û–±–∑–æ—Ä –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

### –ü–æ–≤–µ–¥–µ–Ω–∏–µ UI:

–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∞–¥–∞–ø—Ç–∏–≤–µ–Ω –∏ —É—á–∏—Ç—ã–≤–∞–µ—Ç —Ä–∞–∑–º–µ—Ä—ã —Ç–µ–∫—É—â–µ–≥–æ –æ–∫–Ω–∞.

**Open file**: –û—Ç–∫—Ä—ã–≤–∞–µ—Ç –ø—Ä–æ–≤–æ–¥–Ω–∏–∫. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç —Ñ–∞–π–ª.

**Start**: –ê–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è –ø–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ —Ñ–∞–π–ª–∞. –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è –∞–Ω–∞–ª–∏–∑.

**Cancel**:

    - –í–æ –≤—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏: –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∞–Ω–∞–ª–∏–∑.

    - –ü–æ—Å–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏: –°–∫—Ä—ã–≤–∞–µ—Ç –≥–∏—Å—Ç–æ–≥—Ä–∞–º–º—É –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤ –Ω–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ.

---    

### üìä –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –≥–∏—Å—Ç–æ–≥—Ä–∞–º–º—ã

- –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç **15** –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã—Ö –ø–æ–ª–æ—Å, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–∏—Ö —á–∞—Å—Ç–æ—Ç—É —Å–ª–æ–≤. –ö–∞–∂–¥–∞—è –ø–æ–ª–æ—Å–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç:

- –ù–∞–π–¥–µ–Ω–Ω–æ–µ —Å–ª–æ–≤–æ –≤–Ω—É—Ç—Ä–∏ –ø–æ–ª–æ—Å—ã

- –ß–∏—Å–ª–æ –≤—Ö–æ–∂–¥–µ–Ω–∏–π —Å–ø—Ä–∞–≤–∞

- –ü–æ–ª–æ—Å—ã –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã –ø–æ —É–±—ã–≤–∞–Ω–∏—é –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞

### üîÑ –ü—Ä–æ–≥—Ä–µ—Å—Å –∏ —Å—Ç–∞—Ç—É—Å

**–ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è**: –ó–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–æ –º–µ—Ä–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∞–Ω–∞–ª–∏–∑–∞

**–°—Ç—Ä–æ–∫–∞ —Å—Ç–∞—Ç—É—Å–∞**: –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –æ–¥–Ω–æ –∏–∑ —Å–æ—Å—Ç–æ—è–Ω–∏–π:

- "–ì–æ—Ç–æ–≤–æ –∫ –≤—ã–±–æ—Ä—É —Ñ–∞–π–ª–∞"
- "–û–±—Ä–∞–±–æ—Ç–∫–∞ ..."
- "–£—Å–ø–µ—à–Ω–æ. –ù–∞–∂–º–∏—Ç–µ –û—Ç–º–µ–Ω–∞, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ"

## –û—Å–Ω–æ–≤–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã –∫–æ–¥–∞

–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –æ—Å–Ω–æ–≤–∞–Ω–∞ –Ω–∞ MVC (Model-View-Controller) –º–µ—Ç–æ–¥–µ c –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º QAbstractListModel –∏ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑:
- **Model**: `WordModelCount` (–æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –ª–æ–≥–∏–∫–∏ —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö)
- **View**: `AppView` (–æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞)
- **Controller**: `FileProcessor` (–æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –º–µ–∂–¥—É Model and View)

### –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–∞–π–ª–∞

```cpp

void FileProcessor::fileProcessing(QFile &file) {
  int totalLines = 0;
  {
    // –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ—Ç–æ–∫–∞ –¥–ª—è –ø–æ–¥—Å—á–µ—Ç–∞ –æ–±—â–µ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å—Ç—Ä–æ–∫ –≤ —Ñ–∞–π–ª–µ
    QTextStream counterStream(&file);
    counterStream.setEncoding(QStringConverter::Utf8);

    while (!counterStream.atEnd()) {
      counterStream.readLine(); // –ß—Ç–µ–Ω–∏–µ —Å—Ç—Ä–æ–∫–∏
      ++totalLines;             // –£–≤–µ–ª–∏—á–µ–Ω–∏–µ —Å—á—ë—Ç—á–∏–∫–∞ —Å—Ç—Ä–æ–∫
    }
  }

  file.seek(0); // –í–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ –∫ –Ω–∞—á–∞–ª—É —Ñ–∞–π–ª–∞ –¥–ª—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞

  // –û—Å–Ω–æ–≤–Ω–æ–π –ø–æ—Ç–æ–∫ —á—Ç–µ–Ω–∏—è
  QTextStream stream(&file);
  stream.setEncoding(QStringConverter::Utf8);

  int currentLine = 0; // –°—á–µ—Ç—á–∏–∫ —Ç–µ–∫—É—â–µ–π —Å—Ç—Ä–æ–∫–∏
  while (!stream.atEnd()) {

    // –ü—Ä–æ–≤–µ—Ä–∫–∞: –µ—Å–ª–∏ –∑–∞–ø—Ä–æ—à–µ–Ω–∞ –æ—Ç–º–µ–Ω–∞ ‚Äî –ø—Ä–µ–∫—Ä–∞—â–∞–µ–º –æ–±—Ä–∞–±–æ—Ç–∫—É
    if (this->_cancelRequested) {
      emit processingHasCancelled(); // –°–∏–≥–Ω–∞–ª –æ—Ç–º–µ–Ω—ã
      this->_isProcessing = false;   // –°–±—Ä–æ—Å —Ñ–ª–∞–≥–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏
      return;
    }

    QString line = stream.readLine(); // –ß—Ç–µ–Ω–∏–µ —Å—Ç—Ä–æ–∫–∏ –∏–∑ —Ñ–∞–π–ª–∞

    // –ü–æ–∏—Å–∫ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–π –ø–æ —Ä–µ–≥—É–ª—è—Ä–Ω–æ–º—É –≤—ã—Ä–∞–∂–µ–Ω–∏—é –≤ —Å—Ç—Ä–æ–∫–µ
    auto matches = this->_wordRegex.globalMatch(line);

    while (matches.hasNext()) {
      auto match = matches.next();
      QString word = match.captured().toLower().trimmed(); // –ü—Ä–∏–≤–µ–¥–µ–Ω–∏–µ –∫ –Ω–∏–∂–Ω–µ–º—É —Ä–µ–≥–∏—Å—Ç—Ä—É –∏ —É–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–æ–±–µ–ª–æ–≤

      // –ü—Ä–æ–ø—É—Å–∫ —Å—Ç–æ–ø-—Å–ª–æ–≤
      if (!this->_stopWords.contains(word)) {
        this->_matchesCounting[word]++; // –£–≤–µ–ª–∏—á–µ–Ω–∏–µ —Å—á–µ—Ç—á–∏–∫–∞(–∑–Ω–∞—á–µ–Ω–∏—è) –¥–ª—è –Ω–∞–π–¥–µ–Ω–Ω–æ–≥–æ —Å–ª–æ–≤–∞ (–∫–ª—é—á–∞)
      }
    }

    // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å –±–∞—Ä–∞
    if (currentLine % updateInterval == 0 || currentLine == totalLines - 1) {
      emit progressChanged(static_cast<double>(currentLine + 1) / totalLines); // –°–∏–≥–Ω–∞–ª –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
    }

    ++currentLine; // –ü–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–π —Å—Ç—Ä–æ–∫–µ
  }
}

```
#### –ò—Å–∫–ª—é—á–µ–Ω–∏—è –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ —Ñ–∞–π–ª–∞

```
  "a", "an", "and", "are", "as", "at", "be", "been", "but",
        "by", "for", "from", "has", "have", "if", "in", "is", "it",
        "of", "on", "or", "that", "the", "to", "was", "were", "with",

        "–≤", "–≤–æ", "–Ω–∞", "–ø–æ", "–ø—Ä–∏", "—É", "–∫", "–∏–∑", "–∏–∑-–∑–∞", "–æ—Ç", "–¥–æ", "–∑–∞",
        "–∏", "–Ω–æ", "–∞", "–Ω–µ", "—á—Ç–æ", "–∫–∞–∫", "–∂–µ", "–ª–∏", "—Ç.–¥"
```

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏ 

- –í—ã–∑—ã–≤–∞–µ—Ç—Å—è —Å–∏–≥–Ω–∞–ª–æ–º :

``` cpp
    void fileProcessed(QVector<QPair<QString,int>> wordCounts);
```

```cpp
  void WordCountModel::setWordCount(const QVector<QPair<QString, int>> &data) {
  beginResetModel();
  this->_wordCounts = data;
  endResetModel();

  emit countChanged(); // —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ View –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö
}
```
### –°–±—Ä–æ—Å –º–æ–¥–µ–ª–∏

- –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –∏–∑ View –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –∫–Ω–æ–ø–∫–∏ **Open**

``` qml

    Button {
                id: openButton
                anchors.centerIn: parent
                text: "Open File"
                font.pixelSize: buttonFontSize
                enabled: !isProcessing

                onClicked: {
                        wordModel.cleanModel()
                        fileDialog.open()
                    }
            }
```
–∏ —Å–∏–≥–Ω–∞–ª–æ–º

```cpp
    &FileProcessor::processingHasCancelled
```   
```cpp
    void WordCountModel::cleanModel() {
        beginResetModel();
        this->_wordCounts.clear();
        endResetModel();

        emit countChanged(); // –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ View
}
```

## üì± –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞

–°–±–æ—Ä–∫–∞: Qt 6.8.1, QML, C++

–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ: Android (APK via Qt for Android)

–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ —Ä–∞–±–æ—Ç–∞ —Å:

.txt, .log, .csv, .json, .xml

–§–∞–π–ª—ã –¥–æ 50000 —Å—Ç—Ä–æ–∫


## –õ–∏—Ü–µ–Ω–∑–∏—è
  –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –¥–ª—è –ª–∏—á–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è







